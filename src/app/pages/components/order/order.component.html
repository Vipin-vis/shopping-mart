<div class="order-main">
    <div class="order-header">
        <mat-icon class="my-order">text_snippet</mat-icon>

        <mat-button-toggle-group class="my-order-filter" name="fontStyle" aria-label="Font Style">
            <mat-button-toggle value="all">All</mat-button-toggle>
            <mat-button-toggle value="paid">Paid</mat-button-toggle>
            <mat-button-toggle value="not_paid">Not Paid</mat-button-toggle>
            <mat-button-toggle value="in_progress">In Progress</mat-button-toggle>
            <mat-button-toggle value="cancelled">Cencelled</mat-button-toggle>
        </mat-button-toggle-group>
    </div>
    <div class="order-list">

        <mat-accordion class="example-headers-align" multi>
            <mat-expansion-panel *ngFor="let order of orders">
                <mat-expansion-panel-header>
                    <mat-panel-title class="order">
                        <span class="label-title">Order:</span> {{order.number}}
                    </mat-panel-title>
                    <mat-panel-title class="agent">
                        <span class="label-title">Agent: </span> {{order.agent}}
                    </mat-panel-title>
                    <mat-chip-list class="payment-chip-list" aria-label="Fish selection">
                        <mat-chip class="payment-chip paid" *ngIf="order.status === 1"
                            style="background-color: rgb(7, 126, 100);" selected>Paid</mat-chip>
                        <mat-chip class="payment-chip not-paid" *ngIf="order.status === 0"
                            style="background-color: rgb(219, 64, 59);" selected>Not Paid</mat-chip>
                        <mat-chip class="payment-chip in-progress" *ngIf="order.status === 2"
                            style="background-color: rgb(243, 135, 12);" selected>In Progress</mat-chip>
                        <mat-chip class="payment-chip cancelled" *ngIf="order.status === 3"
                            style="background-color: rgb(126, 124, 102);" selected>Cancelled</mat-chip>
                    </mat-chip-list>
                </mat-expansion-panel-header>
                <div class="order-options">

                    <mat-radio-group *ngIf="true" aria-label="Select an option">
                        <mat-radio-button value="1">Paid</mat-radio-button>
                        <mat-radio-button value="0">Not Paid</mat-radio-button>
                        <mat-radio-button value="2">In Progress</mat-radio-button>
                        <mat-radio-button value="3">Cancelled</mat-radio-button>
                    </mat-radio-group>
                    <div>
                        <button class="order-save" mat-mini-fab>
                            <mat-icon matRipple matTooltip="Save changes">save_alt</mat-icon>
                        </button>
                        <button class="order-save" mat-mini-fab>
                            <mat-icon matRipple matTooltip="Delete Order">clear</mat-icon>
                        </button>

                    </div>
                </div>
                <table mat-table class="order-table" [dataSource]="products">
                    <!-- Item Column -->
                    <ng-container matColumnDef="item">
                        <th mat-header-cell *matHeaderCellDef> Item </th>
                        <td mat-cell *matCellDef="let product"> {{product.item}} </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <!-- Category Column -->
                    <ng-container matColumnDef="category">
                        <th mat-header-cell *matHeaderCellDef> Category </th>
                        <td mat-cell *matCellDef="let product"> {{product.category}} </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <!-- Cost Column -->
                    <ng-container matColumnDef="quantity">
                        <th mat-header-cell class="qty-td" *matHeaderCellDef> Quantity </th>
                        <td mat-cell class="qty-td" *matCellDef="let product"> <input min="1" matInput type=number
                                [(ngModel)]="product.qty"></td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <!-- Cost Column -->
                    <ng-container matColumnDef="cost">
                        <th mat-header-cell *matHeaderCellDef> Cost per piece</th>
                        <td mat-cell *matCellDef="let product"> {{product.cost | currency:'INR'}} </td>
                        <td mat-footer-cell *matFooterCellDef> Total </td>
                    </ng-container>
                    <!-- Total Cost Column -->
                    <ng-container matColumnDef="tCost">
                        <th mat-header-cell *matHeaderCellDef> Total Cost</th>
                        <td mat-cell class="tcost-td" *matCellDef="let product">
                            {{product.cost * product.qty | currency:'INR'}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef> {{getTotalCost() | currency:'INR'}} </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row class="tcost-tr" *matRowDef="let row; columns: displayedColumns;"></tr>
                    <tr mat-footer-row *matFooterRowDef="displayedColumns; sticky: true"></tr>
                </table>

            </mat-expansion-panel>
        </mat-accordion>
    </div>
</div>